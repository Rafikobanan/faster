(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{178:function(e,t,a){e.exports=a(379)},183:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},377:function(e,t,a){},378:function(e,t,a){},379:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(58),o=a.n(c),s=(a(183),a(4)),i=a(17),l=a.n(i),u=a(27),m=a(16),d=a(8),p=(a(185),a(186),a(15));a(187);var f=function(e){var t=e.onClick,a=void 0===t?null:t,n=e.className,c=void 0===n?"":n,o=e.style,s=void 0===o?{}:o,i=e.icon,l=void 0===i?"":i,u=e.to,m=void 0===u?"":u;return m?r.a.createElement(p.b,{to:m,className:"svg-link"},r.a.createElement("svg",{className:c,onClick:a,style:s},r.a.createElement("use",{xlinkHref:"".concat(l)}))):r.a.createElement("div",{onClick:a},r.a.createElement("svg",{className:c,style:s},r.a.createElement("use",{xlinkHref:"".concat(l)})))},h=r.a.createContext(),E={Menu:{Statistics:{en:"Statistics",ru:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"},About:{en:"About",ru:"\u041e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438"},Auth:{en:"Auth",ru:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"},"To Home":{en:"To Home",ru:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"}},Toolbar:{"Increase font":{en:"Increase font",ru:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u0448\u0440\u0438\u0444\u0442"},"Decrease font":{en:"Decrease font",ru:"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u0448\u0440\u0438\u0444\u0442"},"Words per minute":{en:"Words per minute",ru:"\u0421\u043b\u043e\u0432 \u0432 \u043c\u0438\u043d\u0443\u0442\u0443"},Font:{en:"Font",ru:"\u0428\u0440\u0438\u0444\u0442"},"Text position":{en:"Text position",ru:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f \u0442\u0435\u043a\u0441\u0442\u0430"},Start:{en:"Start",ru:"\u0421\u0442\u0430\u0440\u0442"}},About:{"What is it?":{en:"What is it?",ru:"\u0427\u0442\u043e \u044d\u0442\u043e?"},"RSVP reader":{en:"RSVP reader",ru:"RSVP \u0447\u0438\u0442\u0430\u043b\u043a\u0430"},"How it works?":{en:"How it works?",ru:"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442?"},"This is an application to increase reading speed.":{en:"This is an application to increase reading speed.",ru:"\u042d\u0442\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u0447\u0442\u0435\u043d\u0438\u044f"},"Just paste the text and run. When reading, you will not spend time on eye movement and regression.":{en:"Just paste the text and run. When reading, you will not spend time on eye movement and regression.",ru:"\u041f\u0440\u043e\u0441\u0442\u043e \u0432\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435. \u041f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0432\u044b \u043d\u0435 \u0431\u0443\u0434\u0435\u0442\u0435 \u0442\u0440\u0430\u0442\u0438\u0442\u044c \u0432\u0440\u0435\u043c\u044f \u043d\u0430 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0433\u043b\u0430\u0437 \u0438 \u0440\u0435\u0433\u0440\u0435\u0441\u0441\u0438\u044e."},"How much will this help me?":{en:"How much will this help me?",ru:"\u041d\u0430\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0438\u043b\u044c\u043d\u043e \u043c\u043d\u0435 \u044d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442?"},"You can increase the speed of reading by 33% without a significant loss of understanding of the text.":{en:"You can increase the speed of reading by 33% without a significant loss of understanding of the text.",ru:"\u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u044f \u043d\u0430 33% \u0431\u0435\u0437 \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u043f\u043e\u0442\u0435\u0440\u0438 \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u044f \u0442\u0435\u043a\u0441\u0442\u0430."}},CurrentWord:{"words left":{en:"words left",ru:"\u0441\u043b\u043e\u0432 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c"}},Insert:{"Insert Text:":{en:"Insert Text:",ru:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0442\u0435\u043a\u0441\u0442:"},Start:{en:"Start",ru:"\u0421\u0442\u0430\u0440\u0442"},Remove:{en:"Remove",ru:"\u0421\u0442\u0435\u0440\u0435\u0442\u044c"},Paste:{en:"Paste",ru:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c"}},Statistics:{"Number of words read":{en:"Number of words read",ru:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445 \u0441\u043b\u043e\u0432"},"Reading time":{en:"Reading time",ru:"\u0412\u0440\u0435\u043c\u044f \u0447\u0442\u0435\u043d\u0438\u044f"},"Do you want statistics to be saved? Log in.":{en:"Do you want statistics to be saved? Log in.",ru:"\u0425\u043e\u0442\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u043b\u0430\u0441\u044c? \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0441\u044f."}},Auth:{Authorization:{en:"Authorization",ru:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"},Email:{en:"Email",ru:"Email"},Password:{en:"Password",ru:"\u041f\u0430\u0440\u043e\u043b\u044c"},"Log in":{en:"Log in",ru:"\u0412\u043e\u0439\u0442\u0438"},"Log out":{en:"Log out",ru:"\u0412\u044b\u0439\u0442\u0438"},"Sign up":{en:"Sign up",ru:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},Registration:{en:"Registration",ru:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},"Successful registration":{en:"Successful registration",ru:"\u0423\u0441\u043f\u0435\u0448\u043d\u0430\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},"Minimum password length is 6 characters":{en:"Minimum password length is 6 characters",ru:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f - 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"},"Incorrect email":{en:"Incorrect email",ru:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"},"Successful authorization":{en:"Successful authorization",ru:"\u0423\u0441\u043f\u0435\u0448\u043d\u0430\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"},"You are logged in.":{en:"You are logged in.",ru:"\u0412\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043b\u0438\u0441\u044c"},"Already have an account":{en:"Already have an account",ru:"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}}};var b=function(e,t){return Object(n.useMemo)((function(){return function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n][t]);return a}(E[e],t)}),[e,t])};var v=function(){var e=Object(n.useContext)(h),t=e.dispatch,a=e.theme,c=e.language,o=Object(n.useState)(!0),s=Object(m.a)(o,2),i=s[0],l=s[1],u=Object(n.useState)(!1),d=Object(m.a)(u,2),E=d[0],v=d[1],g=b("Menu",c),_=window.location.pathname,O=["menu-language"];i||O.push("menu-language_active");var y=["menu__nav"];E&&y.push("menu__nav_active");var N=function(e){t({type:"CHANGE_LANGUAGE",payload:e}),l(!0)},j="#dark-lamp";a&&(j="#light-lamp");var w=[{to:"/statistics",text:g.Statistics},{to:"/about",text:g.About},{to:"/auth",text:g.Auth}];return r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"menu__logo"},r.a.createElement(p.b,{onClick:function(){return v(!1)},to:"/"},"/"===_?"Faster":g["To Home"])),r.a.createElement("nav",{className:y.join(" ")},r.a.createElement("ul",{className:"menu__list"},w.map((function(e,t){return r.a.createElement("li",{key:t,className:"menu__item"},r.a.createElement(p.b,{onClick:function(){return v(!1)},to:e.to},e.text))})),r.a.createElement("li",{className:"menu__item"},r.a.createElement(f,{className:"menu__icon",onClick:function(){return t({type:"TOGGLE_THEME"})},icon:j})),r.a.createElement("li",{className:"menu__item",onClick:function(){return l(!i)}},r.a.createElement(f,{className:"menu__icon",icon:"#global"})))),r.a.createElement("div",{className:"menu__hamburger",onClick:function(){v(!E),l(!0)}},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("ul",{className:O.join(" ")},r.a.createElement("li",{onClick:function(){return N("ru")},className:"menu-language__item"},r.a.createElement(f,{className:"menu-language__icon",icon:"#russia"})),r.a.createElement("li",{onClick:function(){return N("en")},className:"menu-language__item"},r.a.createElement(f,{className:"menu-language__icon",icon:"#uk"}))))};var g=function(e){var t=e.children,a=Object(n.useContext)(h).theme,c=window.location.pathname;return r.a.createElement("div",{className:"wrapper ".concat(a)},"/current-word"===c?"":r.a.createElement(v,null),r.a.createElement("div",{className:"container"},t))};a(192),a(193);var _=function(e){var t=e.children,a=void 0===t?null:t,n=e.className,c=void 0===n?"":n,o=e.to,s=void 0===o?"":o,i=e.onClick,l=void 0===i?null:i,u=e.theme,m=void 0===u?"primary":u,d=e.disabled,f=void 0!==d&&d;return s?f?r.a.createElement("span",{className:"btn btn_".concat(m," ").concat(c)},a):r.a.createElement(p.b,{to:s,onClick:l,className:"btn btn_".concat(m," ").concat(c)},a):r.a.createElement("button",{onClick:l,className:"btn btn_".concat(m," ").concat(c),disabled:f},a)};var O=function(){var e=Object(n.useContext)(h),t=e.dispatch,a=e.text,c=e.language,o=b("Insert",c);return r.a.createElement("div",{className:"insert"},r.a.createElement("div",{className:"insert__hit"},o["Insert Text:"]),r.a.createElement("textarea",{className:"insert__textarea",onChange:function(e){return t({type:"CHANGE_TEXT",payload:e.target.value})},value:a}),r.a.createElement("div",{className:"insert__btns"},r.a.createElement(_,{className:"insert__btn",to:"/current",disabled:!a,onClick:function(){return t({type:"PARSE_TEXT"})}},o.Start),r.a.createElement(_,{className:"insert__btn",theme:"grey",onClick:function(){navigator.clipboard.readText().then((function(e){t({type:"CHANGE_TEXT",payload:e})}))}},o.Paste),r.a.createElement(_,{className:"insert__btn",theme:"grey",onClick:function(){return t({type:"REMOVE_TEXT"})},disabled:!a},o.Remove)))};a(194);var y=function(e){var t=e.options,a=void 0===t?[]:t,n=e.onChange,c=void 0===n?null:n,o=e.className,s=void 0===o?"":o,i=e.hint,l=void 0===i?"":i;return r.a.createElement("select",{className:s,onChange:c,"data-hint":l},a.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))};a(195),a(196);var N=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=Object(n.useRef)();Object(n.useEffect)((function(){r.current=t}),[t]),Object(n.useEffect)((function(){if(a&&a.addEventListener){var t=function(e){return r.current(e)};return a.addEventListener(e,t),function(){a.removeEventListener(e,t)}}}),[e,a])};function j(e){e.current&&(e.current.remove(),e.current=null)}var w=function(){var e=Object(n.useRef)();Object(n.useEffect)((function(){return function(){j(e)}}),[]),N("mouseover",(function(t){var a=t.target.closest("[data-hint]");if(a){var n=a.dataset.hint;if(n){var r=document.createElement("div");r.className="hint",r.innerHTML=n,document.body.append(r),e.current=r;var c=a.getBoundingClientRect(),o=c.left+(a.offsetWidth-r.offsetWidth)/2;o<0&&(o=0);var s=c.top+a.offsetHeight+5;r.style.left=o+"px",r.style.top=s+"px"}}})),N("mouseout",(function(t){j(e)}))};var x=function(e){var t=e.className,a=void 0===t?"":t,c=Object(n.useContext)(h),o=c.dispatch,s=c.language,i=c.speed,l=b("Toolbar",s);return w(),r.a.createElement("div",{className:"toolbar ".concat(a?"".concat(a,"__toolbar"):"")},r.a.createElement("div",{"data-hint":l["Increase font"],className:"toolbar__tool",onClick:function(){return o({type:"CHANGE_FONT_SIZE",payload:2})}},r.a.createElement(f,{className:"toolbar__icon",icon:"#increase-font"})),r.a.createElement("div",{"data-hint":l["Decrease font"],className:"toolbar__tool",onClick:function(){return o({type:"CHANGE_FONT_SIZE",payload:-2})}},r.a.createElement(f,{className:"toolbar__icon",icon:"#decrease-font"})),r.a.createElement("input",{type:"number",onChange:function(e){return o({type:"CHANGE_SPEED",payload:+e.target.value})},value:i,className:"toolbar__tool toolbar__input","data-hint":l["Words per minute"]}),r.a.createElement(y,{className:"toolbar__tool toolbar__select",onChange:function(e){return o({type:"CHANGE_FONT_FAMILY",payload:e.target.value})},options:["Verdana","Helvetica","Times New Roman","sans-serif","Tahoma","Arial"],hint:l.Font}),r.a.createElement("div",{className:"toolbar__tool toolbar__arrows","data-hint":l["Text position"]},r.a.createElement(f,{className:"toolbar__icon",icon:"#arrow-top",onClick:function(){return o({type:"CHANGE_POSITION",payload:-1})}}),r.a.createElement(f,{className:"toolbar__icon",icon:"#arrow-top",style:{transform:"rotate(180deg)"},onClick:function(){return o({type:"CHANGE_POSITION",payload:1})}})),r.a.createElement("div",{className:"toolbar__tool","data-hint":l.Start},r.a.createElement(f,{className:"toolbar__icon",icon:"#play",to:"/current-word"})))};var C=function(){var e=Object(n.useContext)(h),t=e.dispatch,a=e.parsedText,c=e.currentIndex,o=e.currentWord,s=e.styles;N("keydown",(function(e){switch(e.key.toUpperCase()){case"ARROWLEFT":return void t({type:"CHANGE_WORD",payload:-1});case"ARROWRIGHT":return void t({type:"CHANGE_WORD",payload:1});default:return}}));var i=200*Math.floor(c/200),l=a.slice(i,c).map((function(e){return e.word})).join(" "),u=a.slice(c+1,Math.min(a.length,i+200)).map((function(e){return e.word})).join(" "),m=o.word,d=o.letterInd,p=c+200<a.length?".....":"";return r.a.createElement("div",{tabIndex:"0",className:"current"},r.a.createElement(x,{className:"current"}),r.a.createElement("div",{className:"current__text",style:s},l+" ",r.a.createElement("span",{className:"current__word","data-index":c},m.slice(0,d),r.a.createElement("span",{className:"current__letter"},m[d]),m.slice(d+1)+" "),u,p))};function T(e){if(!e)return JSON.parse(localStorage.getItem("data"))||null;localStorage.setItem("data",JSON.stringify(e))}var k=function(){var e=new Date,t=e.getDate(),a=e.getMonth(),n=e.getFullYear();return"".concat(t,":").concat(a<10?"0".concat(a):a,":").concat(n)},S=function(e,t){switch(t.type){case"INIT":var a=T();return a?Object(s.a)(Object(s.a)({},e),a):Object(s.a)({},e);case"SERVER_INIT":return Object(s.a)(Object(s.a)({},e),t.payload);case"CHANGE_TEXT":return Object(s.a)(Object(s.a)({},e),{},{text:t.payload});case"REMOVE_TEXT":return Object(s.a)(Object(s.a)({},e),{},{text:""});case"PARSE_TEXT":var n=e.text.split(/[\s]/).filter((function(e){return e})).map((function(e){var t=e.length;return{letterInd:Math.round(t/4),word:e}}));return Object(s.a)(Object(s.a)({},e),{},{parsedText:n,currentWord:n[0],currentIndex:0});case"CHANGE_FONT_SIZE":return Object(s.a)(Object(s.a)({},e),{},{styles:Object(s.a)(Object(s.a)({},e.styles),{},{fontSize:e.styles.fontSize+t.payload})});case"CHANGE_FONT_FAMILY":return Object(s.a)(Object(s.a)({},e),{},{styles:Object(s.a)(Object(s.a)({},e.styles),{},{fontFamily:t.payload})});case"CHANGE_POSITION":return t.payload<0&&!e.styles.marginTop?e:Object(s.a)(Object(s.a)({},e),{},{styles:Object(s.a)(Object(s.a)({},e.styles),{},{marginTop:e.styles.marginTop+60*t.payload})});case"CHANGE_SPEED":return t.payload<=0?Object(s.a)(Object(s.a)({},e),{},{speed:1}):Object(s.a)(Object(s.a)({},e),{},{speed:t.payload});case"CHANGE_WORD":var r=e.currentIndex+t.payload,c=e.parsedText.length-1;return r<0&&(r=0),r>c&&(r=c),Object(s.a)(Object(s.a)({},e),{},{currentWord:e.parsedText[r],currentIndex:r});case"TOGGLE_THEME":return e.theme?Object(s.a)(Object(s.a)({},e),{},{theme:""}):Object(s.a)(Object(s.a)({},e),{},{theme:"dark"});case"CHANGE_STATISTICS":var o={},i=k();return e.statistics[i]?o[i]={readWords:e.statistics[i].readWords+t.payload.readWords,time:e.statistics[i].time+t.payload.time}:o[i]={readWords:t.payload.readWords,time:t.payload.time},Object(s.a)(Object(s.a)({},e),{},{statistics:o});case"CHANGE_LANGUAGE":return Object(s.a)(Object(s.a)({},e),{},{language:t.payload});default:return e}};a(197);var I=function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])};var A=function(){var e=Object(n.useContext)(h),t=e.dispatch,a=e.styles,c=e.language,o=e.currentWord,i=e.speed,l=e.parsedText,u=e.currentIndex,m=b("CurrentWord",c),p=Object(d.f)();0===l.length&&p.push("/");var f=Object(n.useRef)(null),E=Object(n.useRef)(null),v=Object(n.useRef)(null),g=Object(n.useMemo)((function(){return 117}),[]),_=Object(n.useRef)(1),O=function(e,t){var a=t.length<11?1:3;return 6e4/e*a}(i,o.word),y=Object(n.useRef)(O/1e3);return N("click",(function(){p.push("/current")})),N("keydown",(function(e){"ESCAPE"===e.key.toUpperCase()&&p.push("/current")})),Object(n.useEffect)((function(){return function(){t({type:"CHANGE_STATISTICS",payload:{readWords:_.current,time:y.current}})}}),[t]),I((function(){u!==l.length-1&&(_.current++,y.current+=O/1e3),t({type:"CHANGE_WORD",payload:1})}),O),Object(n.useEffect)((function(){var e=f.current.getBoundingClientRect(),t=e.left+e.width/2,a=E.current.getBoundingClientRect(),n=a.left+a.width/2,r=v.current.getBoundingClientRect();v.current.style.transform="translateX(".concat(n-t+r.left-a.left,"px)")})),r.a.createElement("div",{style:Object(s.a)(Object(s.a)({},a),{},{marginTop:0,paddingTop:a.marginTop+g})},r.a.createElement("div",{ref:E,className:"current-word"},r.a.createElement("div",{ref:v,className:"current-word__inner"},o.word.slice(0,o.letterInd),r.a.createElement("span",{ref:f,className:"current-word__letter"},o.word[o.letterInd]),o.word.slice(o.letterInd+1)),r.a.createElement("div",{className:"current-word__left"},l.length-u-1," ",m["words left"])))},R=(a(198),a(11));var H=function(){var e=Object(n.useContext)(h),t=e.statistics,a=e.language,c=e.auth,o=b("Statistics",a),s=Object(n.useMemo)((function(){return 0===Object.keys(t).length?[{date:k(),words:0}]:Object.keys(t).map((function(e){var a={};return a.date=e,a.words=t[e].readWords,a}))}),[t]),i=Object(n.useMemo)((function(){return 0===Object.keys(t).length?[{date:k(),minutes:0}]:Object.keys(t).map((function(e){var a={};return a.date=e,a.minutes=Math.floor(t[e].time/60),a}))}),[t]);return r.a.createElement("div",{className:"statistics"},c.token?"":r.a.createElement("div",{className:"statistics__unauth"},o["Do you want statistics to be saved? Log in."]),r.a.createElement("h2",{className:"statistics__title"},o["Number of words read"]),r.a.createElement(R.d,{width:"100%",height:450},r.a.createElement(R.b,{data:s,margin:{right:30}},r.a.createElement(R.c,{strokeDasharray:"3 3"}),r.a.createElement(R.f,{dataKey:"date"}),r.a.createElement(R.g,null),r.a.createElement(R.e,null),r.a.createElement(R.a,{dataKey:"words",fill:"#82ca9d"}))),r.a.createElement("h2",{className:"statistics__title"},o["Reading time"]),r.a.createElement(R.d,{width:"100%",height:450},r.a.createElement(R.b,{data:i,margin:{right:30}},r.a.createElement(R.c,{strokeDasharray:"3 3"}),r.a.createElement(R.f,{dataKey:"date"}),r.a.createElement(R.g,null),r.a.createElement(R.e,null),r.a.createElement(R.a,{dataKey:"minutes",fill:"#82ca9d"}))))};a(377);var G=function(){var e=Object(n.useContext)(h).language,t=b("About",e);return r.a.createElement("div",{className:"about"},r.a.createElement("h2",{className:"about__title"},t["What is it?"]),r.a.createElement("p",{className:"about__paragraph"},t["RSVP reader"]),r.a.createElement("p",{className:"about__paragraph"},t["This is an application to increase reading speed."]),r.a.createElement("h2",{className:"about__title"},t["How it works?"]),r.a.createElement("p",{className:"about__paragraph"},t["Just paste the text and run. When reading, you will not spend time on eye movement and regression."]),r.a.createElement("h2",{className:"about__title"},t["How much will this help me?"]),r.a.createElement("p",{className:"about__paragraph"},t["You can increase the speed of reading by 33% without a significant loss of understanding of the text."]))};a(378);var W=function(){return{request:function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r,c,o,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"GET",n=s.length>2&&void 0!==s[2]?s[2]:null,r=s.length>3&&void 0!==s[3]?s[3]:{},e.prev=3,n&&(n=JSON.stringify(n),r["Content-Type"]="application/json"),e.next=7,fetch(t,{method:a,body:n,headers:r});case 7:return c=e.sent,e.next=10,c.json();case 10:if(o=e.sent,c.ok){e.next=13;break}throw new Error(o.message||"Something went wrong");case 13:return e.abrupt("return",o);case 16:throw e.prev=16,e.t0=e.catch(3),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}()}};function P(e){return!(e.trim().length<6)}function M(e){return/\S+@\S+\.\S+/.test(e)}var L=function(){var e=Object(n.useContext)(h),t=e.language,a=e.auth,c=e.dispatch,o=b("Auth",t),i=W().request,d=Object(n.useState)(!0),p=Object(m.a)(d,2),f=p[0],E=p[1],v=Object(n.useState)({email:"",password:""}),g=Object(m.a)(v,2),O=g[0],y=g[1],N=Object(n.useState)(""),j=Object(m.a)(N,2),w=j[0],x=j[1],C=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i("/api/auth/login","POST",Object(s.a)({},O));case 3:(t=e.sent).message?x(t.message):(c({type:"SERVER_INIT",payload:t.data}),a.login(t.token),x("")),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(O.email)){e.next=3;break}return x(o["Incorrect email"]),e.abrupt("return");case 3:if(P(O.password)){e.next=6;break}return x(o["Minimum password length is 6 characters"]),e.abrupt("return");case 6:return e.prev=6,e.next=9,i("/api/auth/register","POST",Object(s.a)({},O));case 9:(t=e.sent).message?x(t.message):(a.login(t.token),x("")),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}(),k=function(){E(!f),x("")};return a.token?r.a.createElement("div",{className:"auth-auth"},r.a.createElement("div",{className:"auth-auth__text"},o["You are logged in."]),r.a.createElement(_,{onClick:function(){return a.logout()}},o["Log out"])):f?r.a.createElement("div",{className:"auth"},r.a.createElement("div",{className:"auth-field auth__field"},r.a.createElement("div",{className:"auth-field__title"},o.Registration),r.a.createElement("input",{type:"email",className:"auth-field__input",placeholder:o.Email,value:O.email,onChange:function(e){return y(Object(s.a)(Object(s.a)({},O),{},{email:e.target.value}))}}),r.a.createElement("input",{type:"password",className:"auth-field__input",placeholder:o.Password,value:O.password,onChange:function(e){return y(Object(s.a)(Object(s.a)({},O),{},{password:e.target.value}))}}),r.a.createElement(_,{className:"auth-field__button",onClick:T},o["Sign up"]),r.a.createElement("div",{className:"auth-field__text",onClick:k},o["Already have an account"]),r.a.createElement("div",{className:"auth-field__output"},w))):r.a.createElement("div",{className:"auth"},r.a.createElement("div",{className:"auth-field auth__field"},r.a.createElement("div",{className:"auth-field__title"},o.Authorization),r.a.createElement("input",{type:"email",className:"auth-field__input",placeholder:o.Email,value:O.email,onChange:function(e){return y(Object(s.a)(Object(s.a)({},O),{},{email:e.target.value}))}}),r.a.createElement("input",{type:"password",className:"auth-field__input",placeholder:o.Password,value:O.password,onChange:function(e){return y(Object(s.a)(Object(s.a)({},O),{},{password:e.target.value}))}}),r.a.createElement(_,{className:"auth-field__button",onClick:C},o["Log in"]),r.a.createElement("div",{className:"auth-field__text",onClick:k},o.Registration),r.a.createElement("div",{className:"auth-field__output"},w)))};var F=function(){var e=Object(n.useReducer)(S,{text:"",parsedText:[],styles:{fontSize:24,fontFamily:"Verdana",marginTop:0},speed:300,currentWord:{letterInd:0,word:""},currentIndex:0,theme:"",statistics:{},language:"ru"}),t=Object(m.a)(e,2),a=t[0],c=t[1],o=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useCallback)((function(e){r(e),localStorage.setItem("auth",JSON.stringify({token:e}))}),[]),o=Object(n.useCallback)((function(){r(null),localStorage.removeItem("auth")}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("auth"));e&&e.token&&c(e.token)}),[c]),{login:c,logout:o,token:a}}(),i=W().request;return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i("/api/data","GET",{},{Authorization:"Bearer ".concat(o.token)});case 2:t=e.sent,c({type:"SERVER_INIT",payload:t});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"ru"!==navigator.language&&c({type:"CHANGE_LANGUAGE",payload:"en"}),c({type:"INIT"}),o.token&&function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){T(a)}),[a]),I((function(){o.token&&i("/api/data","POST",{text:a.text,styles:{fontSize:a.styles.fontSize,fontFamily:a.styles.fontFamily,marginTop:a.styles.marginTop},speed:a.speed,theme:a.theme,statistics:a.statistics},{Authorization:"Bearer ".concat(o.token)})}),1e4),r.a.createElement(h.Provider,{value:Object(s.a)(Object(s.a)({},a),{},{dispatch:c,auth:o})},r.a.createElement(d.c,null,r.a.createElement(g,null,r.a.createElement(d.a,{exact:!0,path:"/",component:O}),r.a.createElement(d.a,{exact:!0,path:"/statistics",component:H}),r.a.createElement(d.a,{exact:!0,path:"/current-word",component:A}),r.a.createElement(d.a,{exact:!0,path:"/current",component:C}),r.a.createElement(d.a,{exact:!0,path:"/about",component:G}),r.a.createElement(d.a,{exact:!0,path:"/auth",component:L}))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,null,r.a.createElement(F,null))),document.getElementById("root"))}},[[178,1,2]]]);
//# sourceMappingURL=main.f5e8c4e9.chunk.js.map